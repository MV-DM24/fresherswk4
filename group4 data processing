import pandas as pd
dati_carlotta = "https://ercoppa.github.io/lfw2024/02/Food_Production.csv"
dataset = pd.read_csv(dati_carlotta)
dataset

#splitting up the dataset in plant-based vs animal-based foods
plant_based = dataset.loc[0:32]
animal_based = dataset.loc[33:42]

#plotting total emissions
import matplotlib.pyplot as plt
fig = plt.subplot()
pl_points = plt.bar( plant_based["Food product"],plant_based.Total_emissions,  color = "green")
an_points = plt.bar( animal_based["Food product"], animal_based.Total_emissions, color = "red")
plt.xticks(rotation=90, fontsize = 5)

#comparing processing emissions
plant_based_stage1= plant_based[["Land use change", "Animal Feed", "Farm"]].sum(axis=1)
plant_based_stage1 = (plant_based_stage1).sum()
print(plant_based_stage1)

animal_based_stage1 =  animal_based[["Land use change", "Animal Feed", "Farm"]].sum(axis=1)
animal_based_stage1 = (animal_based_stage1).sum()
print(animal_based_stage1)

plant_based_stage2 = plant_based.iloc[:, 4:8].sum(axis=1)
plant_based_stage2 = (plant_based_stage2).sum()
print(plant_based_stage2)

animal_based_stage2 = animal_based.iloc[:, 4:8].sum(axis=1)
animal_based_stage2 = (animal_based_stage2).sum()
print(animal_based_stage2)

fig, ax = plt.subplots()
bars1 = ax.bar("plant", plant_based_stage1, label = "Plant Stage 1")
bars2 = ax.bar("plant", plant_based_stage2, bottom = plant_based_stage1,  label="Plant Stage 2")

bars3 = ax.bar("animal", animal_based_stage1 , label = "Animal Stage 1")
bars4 = ax.bar("animal", animal_based_stage2, bottom = animal_based_stage1, label="Animal Stage 2")
ax.legend()

#working on water usage - freshwater usage per kilogram comparison
fig, axs = plt.subplots(1, 2, figsize=(14, 6))  

axs[0].plot(plant_based["Food product"], plant_based["Freshwater withdrawals per kilogram (liters per kilogram)"], color="green")
axs[0].set_title("Plant-based Freshwater Withdrawals")
axs[0].set_xticklabels(plant_based["Food product"], rotation=90, fontsize=6)  # Rotate x-tick labels
axs[0].set_ylabel("Liters per Kilogram")

axs[1].plot(animal_based["Food product"], animal_based["Freshwater withdrawals per kilogram (liters per kilogram)"], color="red")
axs[1].set_title("Animal-based Freshwater Withdrawals")
axs[1].set_xticklabels(animal_based["Food product"], rotation=90, fontsize=6)  # Rotate x-tick labels
axs[1].set_ylabel("Liters per Kilogram")

plt.tight_layout()
plt.show()


